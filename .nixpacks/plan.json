{
  "providers": ["node"],
  "buildImage": "ghcr.io/railwayapp/nixpacks:ubuntu",
  "variables": {
    "NODE_VERSION": "24",
    "NPM_VERSION": "10",
    "NODE_ENV": "production",
    "GAME_ENV": "dev"
  },
  "phases": {
    "setup": {
      "nixPkgs": ["nodejs-24_x", "npm-10_x"]
    },
    "install": {
      "cmds": ["npm ci"]
    },
    "build": {
      "cmds": ["npm run build-prod"]
    }
  },
  "start": {
    "cmd": "npm run start:server"
  }
}
